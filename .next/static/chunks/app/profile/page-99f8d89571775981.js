(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{722:(e,a,s)=>{"use strict";s.d(a,{AvatarUpload:()=>h});var t=s(5155),r=s(2115),i=s(6695),n=s(285),l=s(1394),o=s(9946);let d=(0,o.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),c=(0,o.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var u=s(5584),p=s(3777);function h(e){let{user:a}=e,{handleUpdateProfile:s,isLoading:o}=(0,u.B)(),h=(0,r.useRef)(null),m=a.fullName?a.fullName.split(" ").map(e=>e[0]).join("").toUpperCase():a.email[0].toUpperCase(),f=async e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&await s({avatar:t})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Profile Picture"}),(0,t.jsxs)(i.BT,{children:["Upload a new profile picture. Max ",p.f.profile.maxAvatarSize/1048576,"MB."]})]}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(l.eu,{className:"h-16 w-16",children:[(0,t.jsx)(l.BK,{src:a.avatarUrl||void 0,alt:"Profile"}),(0,t.jsx)(l.q5,{children:m})]}),(0,t.jsx)(n.$,{size:"icon",variant:"outline",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full",onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},disabled:o,children:o?(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600"}):(0,t.jsx)(d,{className:"h-4 w-4"})})]}),(0,t.jsxs)(n.$,{onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},disabled:o,variant:"outline",children:[(0,t.jsx)(c,{className:"mr-2 h-4 w-4"}),o?"Uploading...":"Upload New Picture"]})]}),(0,t.jsx)("input",{ref:h,type:"file",accept:p.f.profile.allowedAvatarTypes.join(","),className:"hidden",onChange:f})]})]})})}},2489:(e,a,s)=>{Promise.resolve().then(s.bind(s,5977)),Promise.resolve().then(s.bind(s,1455)),Promise.resolve().then(s.bind(s,722)),Promise.resolve().then(s.bind(s,9051)),Promise.resolve().then(s.bind(s,2763))},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(5155),r=s(2115),i=s(9434);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},2763:(e,a,s)=>{"use strict";s.d(a,{ProfileForm:()=>c});var t=s(5155),r=s(2115),i=s(6695),n=s(285),l=s(2523),o=s(8979),d=s(5584);function c(e){var a,s;let{user:c}=e,{handleUpdateProfile:u,isLoading:p}=(0,d.B)(),[h,m]=(0,r.useState)({firstName:(null==(a=c.fullName)?void 0:a.split(" ")[0])||"",lastName:(null==(s=c.fullName)?void 0:s.split(" ").slice(1).join(" "))||""}),f=async e=>{e.preventDefault(),await u(h)};return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Personal Information"}),(0,t.jsx)(i.BT,{children:"Update your personal details and contact information."})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"firstName",children:"First Name"}),(0,t.jsx)(l.p,{id:"firstName",value:h.firstName,onChange:e=>m(a=>({...a,firstName:e.target.value})),placeholder:"Enter your first name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"lastName",children:"Last Name"}),(0,t.jsx)(l.p,{id:"lastName",value:h.lastName,onChange:e=>m(a=>({...a,lastName:e.target.value})),placeholder:"Enter your last name"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.p,{id:"email",type:"email",value:c.email,disabled:!0,className:"bg-muted"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed. Contact support if you need to update your email."})]}),(0,t.jsx)(n.$,{type:"submit",disabled:p,children:p?"Updating...":"Update Profile"})]})})]})}},5584:(e,a,s)=>{"use strict";s.d(a,{B:()=>l});var t=s(2115),r=s(3999),i=s(7481),n=s(3777);function l(){let[e,a]=(0,t.useState)(!1),{signIn:s,signUp:l,signInWithMagicLink:o,signInWithOAuth:d,signOut:c,updateProfile:u,resetPassword:p,changePassword:h}=(0,r.A)(),{toast:m}=(0,i.dj)();return{isLoading:e,handleSignIn:async(e,t)=>{a(!0);try{await s(e,t),m({title:"Welcome back!",description:"You have been signed in successfully."}),window.location.href=n.f.auth.redirectAfterSignIn}catch(e){m({title:"Sign in failed",description:e.message||"Invalid email or password.",variant:"destructive"})}finally{a(!1)}},handleSignUp:async(e,s,t,r)=>{a(!0);try{await l(e,s,t,r),m({title:"Account created!",description:n.f.auth.enableEmailVerification?"Please check your email to verify your account.":"Welcome to the platform!"}),n.f.auth.enableEmailVerification||(window.location.href=n.f.auth.redirectAfterSignUp)}catch(e){m({title:"Sign up failed",description:e.message||"Unable to create account.",variant:"destructive"})}finally{a(!1)}},handleMagicLink:async e=>{a(!0);try{await o(e),m({title:"Magic link sent!",description:"Check your email for a sign-in link."})}catch(e){m({title:"Failed to send magic link",description:e.message||"Please try again.",variant:"destructive"})}finally{a(!1)}},handleSocialAuth:async e=>{try{await d(e)}catch(a){m({title:"Social sign-in failed",description:a.message||"Failed to sign in with ".concat(e,"."),variant:"destructive"})}},handlePasswordReset:async e=>{a(!0);try{await p(e),m({title:"Password reset email sent",description:"Check your email for reset instructions."})}catch(e){m({title:"Failed to send reset email",description:e.message||"Please try again.",variant:"destructive"})}finally{a(!1)}},handleSignOut:async()=>{try{await c(),m({title:"Signed out",description:"You have been signed out successfully."}),window.location.href=n.f.auth.redirectAfterSignOut}catch(e){m({title:"Sign out failed",description:e.message||"Unable to sign out.",variant:"destructive"})}},handleUpdateProfile:async e=>{a(!0);try{if(e.avatar){if(e.avatar.size>n.f.profile.maxAvatarSize)throw Error("Avatar must be smaller than ".concat(n.f.profile.maxAvatarSize/1048576,"MB"));if(!n.f.profile.allowedAvatarTypes.includes(e.avatar.type))throw Error("Invalid file type. Please use JPEG, PNG, or WebP.")}await u(e),m({title:"Profile updated",description:"Your profile has been updated successfully."})}catch(e){m({title:"Update failed",description:e.message||"Unable to update profile.",variant:"destructive"})}finally{a(!1)}},handleChangePassword:async(e,s)=>{a(!0);try{await h(e,s),m({title:"Password updated",description:"Your password has been changed successfully."})}catch(e){m({title:"Failed to change password",description:e.message||"Unable to change password.",variant:"destructive"})}finally{a(!1)}}}}},7481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>p});var t=s(2115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...a}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,a]=t.useState(d);return t.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8979:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var t=s(5155),r=s(2115),i=s(3655),n=r.forwardRef((e,a)=>(0,t.jsx)(i.sG.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var l=s(2085),o=s(9434);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n,{ref:a,className:(0,o.cn)(d(),s),...r})});c.displayName=n.displayName},9051:(e,a,s)=>{"use strict";s.d(a,{ChangePasswordForm:()=>h});var t=s(5155),r=s(2115),i=s(6695),n=s(285),l=s(2523),o=s(8979),d=s(9946);let c=(0,d.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),u=(0,d.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=s(5584);function h(){let{handleChangePassword:e,isLoading:a}=(0,p.B)(),[s,d]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[h,m]=(0,r.useState)({current:!1,new:!1,confirm:!1}),[f,w]=(0,r.useState)([]),v=()=>{let e=[];return s.currentPassword.length<1&&e.push("Current password is required"),s.newPassword.length<6&&e.push("New password must be at least 6 characters"),s.newPassword!==s.confirmPassword&&e.push("New passwords do not match"),s.currentPassword===s.newPassword&&e.push("New password must be different from current password"),w(e),0===e.length},y=async a=>{a.preventDefault(),v()&&(await e(s.currentPassword,s.newPassword),d({currentPassword:"",newPassword:"",confirmPassword:""}))},x=e=>{m(a=>({...a,[e]:!a[e]}))};return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Change Password"}),(0,t.jsx)(i.BT,{children:"Update your password to keep your account secure."})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[f.length>0&&(0,t.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:(0,t.jsx)("ul",{className:"text-sm text-destructive space-y-1",children:f.map((e,a)=>(0,t.jsxs)("li",{children:["â€¢ ",e]},a))})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.p,{id:"currentPassword",type:h.current?"text":"password",value:s.currentPassword,onChange:e=>d(a=>({...a,currentPassword:e.target.value})),placeholder:"Enter your current password",className:"pr-10"}),(0,t.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x("current"),children:h.current?(0,t.jsx)(c,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"newPassword",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.p,{id:"newPassword",type:h.new?"text":"password",value:s.newPassword,onChange:e=>d(a=>({...a,newPassword:e.target.value})),placeholder:"Enter your new password",className:"pr-10"}),(0,t.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x("new"),children:h.new?(0,t.jsx)(c,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.p,{id:"confirmPassword",type:h.confirm?"text":"password",value:s.confirmPassword,onChange:e=>d(a=>({...a,confirmPassword:e.target.value})),placeholder:"Confirm your new password",className:"pr-10"}),(0,t.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x("confirm"),children:h.confirm?(0,t.jsx)(c,{className:"h-4 w-4"}):(0,t.jsx)(u,{className:"h-4 w-4"})})]})]}),(0,t.jsx)(n.$,{type:"submit",disabled:a,children:a?"Updating...":"Change Password"})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[836,865,400,32,455,441,684,358],()=>a(2489)),_N_E=e.O()}]);